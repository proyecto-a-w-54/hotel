<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrar Habitaciones</title>
    <link rel="stylesheet" href="administrador.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
<header>  
    <nav class="menubar">
        <div class="logo-container">
            <div class="logo" style="background-image: url(../imagenes/logo.png);"></div>
        </div>

        <div id="userGreeting">
            Bienvenido, <strong id="usernameDisplay">Usuario</strong>
        </div>
        
        <div id="sepa"></div>
        
        <button id="logoutButton" class="icon-button" onclick="logoutUser()">
            <i class="fas fa-sign-out-alt"></i> <!-- Icono de cerrar sesi√≥n -->
        </button>
    </nav>
</header>

<!-- Nueva barra de botones -->
<div class="button-bar">
    <div id="contadorHabitaciones">Habitaciones restantes: Cargando...</div>
    <button id="addRoomButton" class="icon-button">‚ûï </button>
    <button id="editButton" class="icon-button">‚úèÔ∏è </button>
    <button id="deleteButton" class="icon-button">üóëÔ∏è </button>
</div>

<main>
    <div id="roomListContainer">
        <!-- Las habitaciones se cargar√°n aqu√≠ -->
    </div>
</main>
<!-- Modal de Confirmaci√≥n de Eliminaci√≥n -->
<div id="confirmDeleteModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="closeConfirmDeleteModal()">&times;</span>
        <form id="confirmDeleteForm" onsubmit="return confirmDelete();">
            <h2>Confirmar Eliminaci√≥n</h2>
            <h3>¬øestas seguro que quieres borrar esta habitacion?</h3>
            <p>Ingresa tu contrase√±a para confirmar la eliminaci√≥n:</p>
            <input type="password" id="confirmPassword" placeholder="Contrase√±a" required>
            <button type="submit">Eliminar</button>
        </form>
    </div>
</div>


<!-- Modal de A√±adir Habitaci√≥n -->
<div id="addRoomModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeAddRoomModal()">&times;</span>
        <form id="addRoomForm" enctype="multipart/form-data">
            <div class="form-container">
                <div class="text-container">
                    <h2>A√±adir Nueva Habitaci√≥n</h2>
                    <label for="roomName">Nombre de la Habitaci√≥n:</label>
                    <input type="text" id="roomName" name="nombre" required>
                
                    <label for="roomType">Tipo de Habitaci√≥n:</label>
                    <select id="roomType" name="tipo_habitacion" required>
                        <option value="individual">Individual</option>
                        <option value="doble">Doble</option>
                        <option value="suite">Suite</option>
                    </select>
                
                    <label for="roomPrice">Precio por Noche:</label>
                    <input type="number" id="roomPrice" name="precio_por_noche" step="0.01" required>
                
                    <label for="roomAvailability">Estado de Disponibilidad:</label>
                    <select id="roomAvailability" name="estado_disponibilidad" required>
                        <option value="disponible">Disponible</option>
                        <option value="no disponible">No disponible</option>
                    </select>
                    <button class="btn-primary" type="button" onclick="addHabitacion()">Agregar Habitaci√≥n</button>
                </div>

                <div class="separator"></div>

                <div class="image-upload-container">
                    <label for="roomImage" style="cursor: pointer;">
                        <div class="image-preview" id="imagePreview">Previsualizaci√≥n</div>
                    </label>
                    <label for="roomDescription">Descripci√≥n:</label>
                    <textarea id="roomDescription" name="descripcion" required></textarea>
                    <input type="file" id="roomImage" name="imagen" accept="image/*" style="display: none;" onchange="previewImage('roomImage', 'imagePreview')">
                </div>
            </div>
        </form>
    </div>
</div>


<!-- Modal de Edici√≥n de Habitaci√≥n -->
<div id="editRoomModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeEditRoomModal()">&times;</span>
        <h2>Editar Habitaci√≥n</h2>

        <div class="form-container">
            <!-- Secci√≥n del formulario de edici√≥n (lado izquierdo) -->
            <div class="text-container">
                <label for="editRoomName">Nombre de la Habitaci√≥n:</label>
                <input type="text" id="editRoomName" name="nombre" required>
                
                <label for="editRoomType">Tipo de Habitaci√≥n:</label>
                <select id="editRoomType" name="tipo_habitacion" required>
                    <option value="individual">Individual</option>
                    <option value="doble">Doble</option>
                    <option value="suite">Suite</option>
                </select>
                
                <label for="editRoomPrice">Precio por Noche:</label>
                <input type="number" id="editRoomPrice" name="precio_por_noche" step="0.01" required>
                
                <label for="editRoomStatus">Estado de Disponibilidad:</label>
                <select id="editRoomStatus" name="estado_disponibilidad" required>
                    <option value="disponible">Disponible</option>
                    <option value="no disponible">No Disponible</option>
                </select>
                <input type="hidden" id="editRoomId">
            </div>

            <div class="separator"></div>

            <!-- Secci√≥n de previsualizaci√≥n de imagen y descripci√≥n (lado derecho) -->
            <div class="image-upload-container">
                <div id="editImagePreview" class="image-preview">Previsualizaci√≥n</div>
                <label for="editRoomDescription">Descripci√≥n:</label>
                <textarea id="editRoomDescription" name="descripcion" rows="4"></textarea>
                <input type="file" id="editRoomImage" name="imagen" accept="image/*" style="display: none;" onchange="previewImage('editRoomImage', 'editImagePreview')">
            </div>
        </div>

        <button class="save-changes-btn" onclick="updateHabitacion()">Guardar Cambios</button>
    </div>
</div>


    


    <script src="administrador.js"></script>
</body>
